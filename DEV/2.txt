
#!/bin/bash

# Бесконечный цикл для мониторинга каждые 15 минут
while true; do
    # Запускаем df -h и фильтруем вывод, чтобы получить процент использования корневого раздела
    usage_percentage=$(df -h / | awk 'NR==2 {print $5}' | sed 's/%//')

    # Устанавливаем пороговое значение для предупреждения (90%)
    threshold=90

    # Проверяем, превышает ли использование пороговое значение
    if [ "$usage_percentage" -gt "$threshold" ]; then
        # Если превышено, отправляем электронное письмо
        echo "места мало, блин!" | mail -s "Предупреждение о заполнении корневого раздела" test@test.com
    fi

    # Ждем 15 минут перед следующей проверкой
    sleep 900
done &

Что делают команды и ключи:
* 		while true; do: Начинает бесконечный цикл для мониторинга каждые 15 минут.
* 		df -h /: Выполняет команду df для мониторинга использования корневого раздела. -h означает использование удобного для чтения формата.
* 		awk 'NR==2 {print $5}': Фильтрует вывод df и извлекает процент использования корневого раздела (вторая строка, пятый столбец).
* 		sed 's/%//': Удаляет символ процента из полученного процента, чтобы получить только числовое значение.
* 		threshold=90: Устанавливает пороговое значение в 90%.
* 		if [ "$usage_percentage" -gt "$threshold" ]; then: Проверяет, превышает ли использование пороговое значение.
* 		echo "места мало, блин!" | mail -s "Предупреждение о заполнении корневого раздела" test@test.com: Если использование превышает порог, отправляет электронное письмо с указанным сообщением и темой на адрес test@test.com с использованием mail.
* 		sleep 900: Задерживает выполнение скрипта на 900 секунд (15 минут) перед началом следующей итерации цикла.
* 		&: Запускает скрипт в фоновом режиме, что позволяет ему работать в фоне без блокировки терминала.


___________________________




Напишите файл скрипта, который выполнит:

1 Запишет в файл слово “Hello”
2 Создаст 5 файлов с названием дней недели от вторника до субботы
*файл из пункта 1 должен быть создан по пути /opt/tesT/mydrive и называется te.log 
*файлы с названием дней недели должны попасть в папку /home/logs 

#!/bin/bash
mkdir -p /opt/tesT/mydrive
mkdir -p /home/logs
echo "Hello" > /opt/tesT/mydrive/te.log
days=("Вторник" "Среда" "Четверг" "Пятница" "Суббота")
for day in "${days[@]}"
do
touch "/home/logs/$day.txt"
echo "Создан файл $day.txt"
done

_____________________________________________________________________________________________________

Напишите скрипт, который выполнит:
1 Запишет в файл вывод команды df -h (только первый стобец, вторая строка)
2 создаст 6 папок с расширением exp и названием от 8 до 3
*файл из первого пункта должен называться root и находиться по пути /tmp/test
**папки с названием от 8 до 3 должны распологаться по пути /opt/name
***размер файла скрипта не должен превышать 145 байт

#!/bin/bash
mkdir -p /tmp/test
#mkdir -p /opt/name
df -h | grep -o /dev/root > /tmp/test/root
for i in {8..3}
do
mkdir -p /opt/name/$i.exp
done

_____________________________________________________________________________________________________

Напишите скрипт, который выполнит:
1 Создаст файл logs.log
2 Дозапишет в него данные из файла services (только строки со словом snmp)
3 Перенесет файл по пути /logs/lan
4 Выведет на экран список процессов ssh
*файл services находится по пути /etc
*файл logs.log изначально должен располагаться в папке /home


#!/bin/bash
mkdir -p /logs/lan
cat /etc/services | grep snmp >> /home/logs.log
mv /home/logs.log /logs/lan/logs.log
ps -ef | grep ssh

_____________________________________________________________________________________________________
